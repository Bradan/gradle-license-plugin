plugins {
  id "com.gradle.build-scan" version "1.4"
  id "com.github.kt3k.coveralls" version "2.7.1"
  id "net.ltgt.errorprone" version "0.0.8"
  id "com.jfrog.artifactory" version "4.4.12"
  id "com.jfrog.bintray" version "1.7.3"
  id "com.github.ben-manes.versions" version "0.13.0"
}

repositories {
  maven { url "https://plugins.gradle.org/m2/" }
}

group = "com.jaredsburrows"
version = "0.3.0" + (rootProject.hasProperty("release") ? "" : "-SNAPSHOT")
description = "This plugin provides a task to generate a HTML license report of your project."

ext {
  sourceCompatibilityVersion = JavaVersion.VERSION_1_7
  targetCompatibilityVersion = JavaVersion.VERSION_1_7
}

apply from: rootProject.file("gradle/scan.gradle")
apply plugin: "groovy"
apply from: rootProject.file("gradle/compile.gradle")
apply from: rootProject.file("gradle/quality.gradle")
apply from: rootProject.file("gradle/publish.gradle")
apply from: rootProject.file("gradle/provided.gradle")
apply plugin: "net.ltgt.errorprone"
apply plugin: "com.github.ben-manes.versions"

sourceCompatibility = rootProject.ext.sourceCompatibilityVersion
targetCompatibility = rootProject.ext.sourceCompatibilityVersion

dependencies {
  compile gradleApi()
  compile localGroovy()

  provided "com.android.tools.build:gradle:2.2.3"

  testCompile "org.spockframework:spock-core:1.0-groovy-2.4", { exclude module: "groovy-all" }  // Use localGroovy()
}
